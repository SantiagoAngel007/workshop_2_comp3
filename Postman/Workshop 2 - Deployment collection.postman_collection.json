{
	"info": {
		"_postman_id": "c09c0590-3c9c-43a6-9f83-e8937ad58528",
		"name": "Workshop 2 - Deployment collection",
		"description": "API para pruebas con nueva l√≥gica de autorizaci√≥n en UPDATE USER",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "44658492"
	},
	"item": [
		{
			"name": "üîê AUTH - LOGIN",
			"item": [
				{
					"name": "Login - Admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200 || pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.collectionVariables.set('admin_token', jsonData.token);",
									"    pm.collectionVariables.set('admin_id', jsonData.id);",
									"    console.log('‚úÖ Admin Token guardado');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"admin@example.com\",\n  \"password\": \"admin123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"login"
							]
						},
						"description": "Login como admin - Guarda token en {{admin_token}}"
					},
					"response": []
				},
				{
					"name": "Login - Coach",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200 || pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.collectionVariables.set('coach_token', jsonData.token);",
									"    pm.collectionVariables.set('coach_id', jsonData.id);",
									"    console.log('‚úÖ Coach Token guardado');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"coach@example.com\",\n  \"password\": \"coach123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"login"
							]
						},
						"description": "Login como coach - Guarda token en {{coach_token}}"
					},
					"response": []
				},
				{
					"name": "Login - Client",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200 || pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.collectionVariables.set('client_token', jsonData.token);",
									"    pm.collectionVariables.set('client_id', jsonData.id);",
									"    console.log('‚úÖ Client Token guardado');",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"juan4@example.com\",\n  \"password\": \"password123\"\n}\n"
						},
						"url": {
							"raw": "{{base_url}}/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"login"
							]
						},
						"description": "Login como client - Guarda token en {{client_token}}"
					},
					"response": []
				},
				{
					"name": "Login - Receptionist Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200 || pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.collectionVariables.set('receptionist_token', jsonData.token);",
									"    console.log('‚úÖ Receptionist Token guardado');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"receptionist@example.com\",\n  \"password\": \"recep123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"login"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "‚úÖ CASOS EXITOSOS (POSITIVOS)",
			"item": [
				{
					"name": "‚úÖ Admin actualiza a otro usuario",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fullName\": \"Coach Actualizado por Admin\",\n  \"age\": 29\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/{{coach_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"{{coach_id}}"
							]
						},
						"description": "‚úÖ DEBE FUNCIONAR: Admin actualiza el perfil de coach"
					},
					"response": []
				},
				{
					"name": "‚úÖ Cliente actualiza su propio perfil",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{client_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fullName\": \"Cliente Actualizado\",\n  \"age\": 26\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/{{client_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"{{client_id}}"
							]
						},
						"description": "‚úÖ DEBE FUNCIONAR: Cliente actualiza su propio perfil"
					},
					"response": []
				},
				{
					"name": "‚úÖ Coach actualiza su propio perfil",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{coach_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fullName\": \"Coach Actualizado\",\n  \"age\": 29\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/{{coach_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"{{coach_id}}"
							]
						},
						"description": "‚úÖ DEBE FUNCIONAR: Coach actualiza su propio perfil"
					},
					"response": []
				}
			]
		},
		{
			"name": "‚ùå CASOS DE ERROR (NEGATIVOS)",
			"item": [
				{
					"name": "‚ùå Cliente intenta actualizar a otro usuario",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{client_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fullName\": \"Hack Attempt\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/{{coach_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"{{coach_id}}"
							]
						},
						"description": "‚ùå DEBE FALLAR: Cliente intenta actualizar el perfil de coach - Error 403 Forbidden"
					},
					"response": []
				},
				{
					"name": "‚ùå Coach intenta actualizar a otro usuario",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{coach_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fullName\": \"Hack Attempt\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/{{client_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"{{client_id}}"
							]
						},
						"description": "‚ùå DEBE FALLAR: Coach intenta actualizar el perfil de cliente - Error 403 Forbidden"
					},
					"response": []
				},
				{
					"name": "‚ùå Sin autenticaci√≥n (Sin token)",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fullName\": \"Sin Token\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/{{client_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"{{client_id}}"
							]
						},
						"description": "‚ùå DEBE FALLAR: Sin token de autenticaci√≥n - Error 401 Unauthorized"
					},
					"response": []
				},
				{
					"name": "‚ùå Token inv√°lido/expirado",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer invalid_token_12345",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fullName\": \"Token Inv√°lido\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/{{client_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"{{client_id}}"
							]
						},
						"description": "‚ùå DEBE FALLAR: Token inv√°lido - Error 401 Unauthorized"
					},
					"response": []
				},
				{
					"name": "‚ùå ID de usuario inexistente",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fullName\": \"Usuario Inexistente\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/00000000-0000-0000-0000-000000000000",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"00000000-0000-0000-0000-000000000000"
							]
						},
						"description": "‚ùå DEBE FALLAR: ID de usuario no existe - Error 404 Not Found"
					},
					"response": []
				}
			]
		},
		{
			"name": "üìä VER USUARIOS Y DETALLES",
			"item": [
				{
					"name": "GET - Todos los usuarios",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/auth",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET - Perfil de admin",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/auth/{{admin_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"{{admin_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET - Perfil de coach",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{coach_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/auth/{{coach_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"{{coach_id}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "subscriptions tests",
			"item": [
				{
					"name": "register new user",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Test para verificar que la petici√≥n fue exitosa (c√≥digo 201 Created)",
									"pm.test(\"Status code is 201\", function () {",
									"    pm.expect(pm.response.code).to.equal(201);",
									"});",
									"",
									"// Script para guardar el ID del usuario",
									"pm.test(\"Guardar el ID del nuevo usuario\", function () {",
									"    // 1. Convertir la respuesta de texto a un objeto JSON",
									"    const responseBody = pm.response.json();",
									"    ",
									"    // 2. Verificar que la propiedad 'id' existe en la respuesta",
									"    pm.expect(responseBody).to.have.property(\"id\");",
									"    ",
									"    // 3. Guardar el valor del ID en una variable de la colecci√≥n",
									"    // La variable se llamar√° \"userId\"",
									"    pm.collectionVariables.set(\"userId\", responseBody.id);",
									"    ",
									"    console.log(\"ID de usuario guardado exitosamente!\");",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"juan8@example.com\",\n  \"fullName\": \"Juan Perez ocho\",\n  \"age\": 28,\n  \"password\": \"password123\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/auth/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "get subscription",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200 || pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.collectionVariables.set('user_subscription_id', jsonData.id);",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{receptionist_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/subscriptions/user/{{userId}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"subscriptions",
								"user",
								"{{userId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "update subscription",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Premium Subscription Package\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/subscriptions/{{user_subscription_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"subscriptions",
								"{{user_subscription_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "get sub by id",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/subscriptions/{{user_subscription_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"subscriptions",
								"{{user_subscription_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "get all subscriptions",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/subscriptions",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"subscriptions"
							]
						}
					},
					"response": []
				},
				{
					"name": "delete sub",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/subscriptions/{{user_subscription_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"subscriptions",
								"{{user_subscription_id}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "MEMBERSHIPS Copy",
			"item": [
				{
					"name": "Ver todas las Membres√≠as",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{base_url}}/memberships",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"memberships"
							]
						},
						"description": "Obtiene todas las membres√≠as. Requiere rol: admin o receptionist"
					},
					"response": []
				},
				{
					"name": "Crear Nueva Membres√≠a",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.collectionVariables.set('membership_id', jsonData.id);",
									"    console.log('‚úÖ Membership ID guardado: ' + jsonData.id);",
									"    // L√≠nea de depuraci√≥n para leer el valor inmediatamente",
									"    var savedId = pm.collectionVariables.get('membership_id');",
									"    console.log('‚úÖ Valor le√≠do de la variable de colecci√≥n: ' + savedId);",
									"}",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"membresia carb5\",\n  \"cost\": 99.99,\n  \"max_classes_assistance\": 13,\n  \"max_gym_assistance\": 21,\n  \"duration_months\": 12,\n  \"status\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/memberships",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"memberships"
							]
						},
						"description": "Crea una nueva membres√≠a. Solo admin puede crear"
					},
					"response": []
				},
				{
					"name": "Ver Membres√≠a por ID",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/memberships/{{membership_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"memberships",
								"{{membership_id}}"
							]
						},
						"description": "Obtiene una membres√≠a espec√≠fica por ID. Requiere rol: admin, receptionist o coach"
					},
					"response": []
				},
				{
					"name": "Actualizar Membres√≠a",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Actualizada\",\n  \"cost\": 54.00,\n  \"max_classes_assistance\": 10\n}"
						},
						"url": {
							"raw": "{{base_url}}/memberships/{{membership_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"memberships",
								"{{membership_id}}"
							]
						},
						"description": "Actualiza una membres√≠a existente. Solo admin"
					},
					"response": []
				},
				{
					"name": "Toggle Status (Activar/Desactivar)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/memberships/{{membership_id}}/toggle-status",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"memberships",
								"{{membership_id}}",
								"toggle-status"
							]
						},
						"description": "Cambia el estado activo/inactivo de una membres√≠a. Solo admin"
					},
					"response": []
				},
				{
					"name": "Eliminar Membres√≠a (Soft Delete)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/memberships/{{membership_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"memberships",
								"{{membership_id}}"
							]
						},
						"description": "Elimina (soft delete) una membres√≠a. Solo admin. Retorna 204 No Content"
					},
					"response": []
				}
			]
		},
		{
			"name": "attendances tests",
			"item": [
				{
					"name": "add membership to sub",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{receptionist_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"membershipId\": \"{{membership_id}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/subscriptions/{{user_subscription_id}}/memberships",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"subscriptions",
								"{{user_subscription_id}}",
								"memberships"
							]
						}
					},
					"response": []
				},
				{
					"name": "chek-in",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Prueba 1: Verificar que el c√≥digo de estado es 201 Created",
									"pm.test(\"Status code is 201 Created\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{receptionist_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"userId\": \"{{userId}}\",\n  \"entranceDatetime\": \"{{$isoTimestamp}}\",\n  \"type\": \"gym\",\n  \"dateKey\": \"{{$today}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/attendances/check-in",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"attendances",
								"check-in"
							]
						}
					},
					"response": []
				},
				{
					"name": "checkout",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Prueba 1: Verificar que el c√≥digo de estado es 201",
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"// Prueba 2: Verificar que la respuesta es un JSON v√°lido",
									"pm.test(\"Response is a valid JSON\", function () {",
									"    pm.response.to.be.json;",
									"});",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{receptionist_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"userId\": \"{{userId}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/attendances/check-out",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"attendances",
								"check-out"
							]
						}
					},
					"response": []
				},
				{
					"name": "status check",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"userId\": \"{{userId}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/attendances/status/{{userId}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"attendances",
								"status",
								"{{userId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "attendances history",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"userId\": \"{{userId}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/attendances/history/{{userId}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"attendances",
								"history",
								"{{userId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "attendances stats",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/attendances/stats/{{userId}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"attendances",
								"stats",
								"{{userId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "all active attendances",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/attendances/active",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"attendances",
								"active"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üå± SEED",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/seed",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"seed"
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:3000"
		},
		{
			"key": "admin_token",
			"value": "",
			"description": {
				"content": "Token del admin",
				"type": "text/plain"
			}
		},
		{
			"key": "admin_id",
			"value": "",
			"description": {
				"content": "ID del admin",
				"type": "text/plain"
			}
		},
		{
			"key": "coach_token",
			"value": "",
			"description": {
				"content": "Token del coach",
				"type": "text/plain"
			}
		},
		{
			"key": "coach_id",
			"value": "",
			"description": {
				"content": "ID del coach",
				"type": "text/plain"
			}
		},
		{
			"key": "client_token",
			"value": "",
			"description": {
				"content": "Token del client",
				"type": "text/plain"
			}
		},
		{
			"key": "client_id",
			"value": "",
			"description": {
				"content": "ID del client",
				"type": "text/plain"
			}
		},
		{
			"key": "userId",
			"value": ""
		},
		{
			"key": "membership_id",
			"value": ""
		},
		{
			"key": "receptionist_token",
			"value": ""
		},
		{
			"key": "user_subscription_id",
			"value": ""
		},
		{
			"key": "i",
			"value": ""
		}
	]
}